---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vmds_policy Resource - vmds"
subcategory: ""
description: |-
  Represents a policy on MDS.
---

# vmds_policy (Resource)

Represents a policy on MDS.

## Example Usage

```terraform
// example of a RABBITMQ policy
resource "vmds_policy" "rabbitmq" {
  name             = "test-tf"
  service_type     = "RABBITMQ"
  permission_specs = [
    {
      permissions = ["read"],
      role        = "read",
      resource    = "cluster:example-cluster-name"
    },
    {
      "permissions" = ["write"],
      "role"        = "write",
      "resource"    = "cluster:example-cluster-name/queue:my-queue"
    }
  ]
}

```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the policy
- `permission_specs` (Attributes List) Permissions to enforce on service resources. Only required for policies other than `NETWORK` type. (see [below for nested schema](#nestedatt--permission_specs))
- `service_type` (String) Type of policy to manage. Supported values are: `RABBITMQ`, `NETWORK`.

### Read-Only

- `id` (String) Auto-generated ID of the policy after creation, and can be used to import it from MDS to terraform state.
- `resource_ids` (Set of String) IDs of service resources/instances being managed by the policy.

<a id="nestedatt--permission_specs"></a>
### Nested Schema for `permission_specs`

Required:

- `permissions` (Set of String) One or more of (monitoring,write,management,policymaker,read,configure). Please make use of datasource `vmds_service_roles` to get roles.
- `resource` (String) The cluster/instance name. Please make use of datasource `vmds_clusters` to get resource.
- `role` (String) One or more of (monitoring,write,management,policymaker,read,configure). Please make use of datasource `vmds_service_roles` to get roles.

## Import

Import is supported using the following syntax:

```shell
# Policy can be imported by specifying the alphanumeric identifier.
terraform import vmds_policy.rabbitmq s546dg29fh2ksh3dfr
```
